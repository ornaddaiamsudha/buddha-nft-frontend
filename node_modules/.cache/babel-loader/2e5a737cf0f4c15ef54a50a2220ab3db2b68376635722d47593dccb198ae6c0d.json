{"ast":null,"code":"var _jsxFileName = \"/Users/natty/Downloads/buddha/frontend/src/pages/Mint.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { uploadToIPFS } from \"../utils/ipfs\";\nimport { BUDDHA_NFT_ADDRESS } from \"../utils/contractConfig\";\nimport BuddhaNFTArtifact from \"../abis/BuddhaNFT.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Mint = () => {\n  _s();\n  const [form, setForm] = useState({\n    name: \"\",\n    description: \"\",\n    year: \"\",\n    frame: \"Gold Frame\"\n  });\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState(\"\");\n  const handleChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files).slice(0, 3);\n    setImages(files);\n  };\n  const handleMint = async () => {\n    try {\n      if (!form.name || !form.description || !form.year || images.length === 0) {\n        setStatus(\"Please complete all fields and select at least one image.\");\n        return;\n      }\n      setStatus(\"Uploading metadata to IPFS...\");\n      const metadataURL = await uploadToIPFS(form, images);\n      console.log(\"Token URI:\", metadataURL);\n      if (!metadataURL || !metadataURL.startsWith(\"http\")) {\n        setStatus(\"Invalid metadata URL.\");\n        return;\n      }\n      setStatus(\"Sending mint transaction...\");\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      await provider.send(\"eth_requestAccounts\", []);\n      const signer = provider.getSigner();\n      const userAddress = await signer.getAddress();\n      const contract = new ethers.Contract(BUDDHA_NFT_ADDRESS, BuddhaNFTArtifact.abi, signer);\n      const tx = await contract.mint(userAddress, metadataURL);\n      await tx.wait();\n      setStatus(\"✅ NFT Minted Successfully!\");\n    } catch (err) {\n      console.error(\"Mint failed:\", err);\n      setStatus(\"❌ Mint failed. See console for details.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-lg mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4 text-center\",\n      children: \"Mint Your Buddha Amulet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"w-full p-2 mb-2 border rounded\",\n      placeholder: \"Amulet Name\",\n      name: \"name\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"w-full p-2 mb-2 border rounded\",\n      placeholder: \"Description\",\n      name: \"description\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"w-full p-2 mb-2 border rounded\",\n      placeholder: \"Year\",\n      name: \"year\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"w-full p-2 mb-2 border rounded\",\n      name: \"frame\",\n      onChange: handleChange,\n      value: form.frame,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Gold Frame\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Silver Frame\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Plastic Frame\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      multiple: true,\n      onChange: handleImageChange,\n      className: \"mb-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleMint,\n      className: \"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700\",\n      children: \"Mint NFT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), status && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center mt-2\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(Mint, \"XgTVtGGTnV2U7+TpAajuH0C22k0=\");\n_c = Mint;\nexport default Mint;\nvar _c;\n$RefreshReg$(_c, \"Mint\");","map":{"version":3,"names":["React","useState","ethers","uploadToIPFS","BUDDHA_NFT_ADDRESS","BuddhaNFTArtifact","jsxDEV","_jsxDEV","Mint","_s","form","setForm","name","description","year","frame","images","setImages","status","setStatus","handleChange","e","target","value","handleImageChange","files","Array","from","slice","handleMint","length","metadataURL","console","log","startsWith","provider","providers","Web3Provider","window","ethereum","send","signer","getSigner","userAddress","getAddress","contract","Contract","abi","tx","mint","wait","err","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","type","accept","multiple","onClick","_c","$RefreshReg$"],"sources":["/Users/natty/Downloads/buddha/frontend/src/pages/Mint.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { uploadToIPFS } from \"../utils/ipfs\";\nimport { BUDDHA_NFT_ADDRESS } from \"../utils/contractConfig\";\nimport BuddhaNFTArtifact from \"../abis/BuddhaNFT.json\";\n\nconst Mint = () => {\n  const [form, setForm] = useState({\n    name: \"\",\n    description: \"\",\n    year: \"\",\n    frame: \"Gold Frame\",\n  });\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState(\"\");\n\n  const handleChange = (e) =>\n    setForm({ ...form, [e.target.name]: e.target.value });\n\n  const handleImageChange = (e) => {\n    const files = Array.from(e.target.files).slice(0, 3);\n    setImages(files);\n  };\n\n  const handleMint = async () => {\n    try {\n      if (!form.name || !form.description || !form.year || images.length === 0) {\n        setStatus(\"Please complete all fields and select at least one image.\");\n        return;\n      }\n\n      setStatus(\"Uploading metadata to IPFS...\");\n      const metadataURL = await uploadToIPFS(form, images);\n      console.log(\"Token URI:\", metadataURL);\n\n      if (!metadataURL || !metadataURL.startsWith(\"http\")) {\n        setStatus(\"Invalid metadata URL.\");\n        return;\n      }\n\n      setStatus(\"Sending mint transaction...\");\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      await provider.send(\"eth_requestAccounts\", []);\n      const signer = provider.getSigner();\n      const userAddress = await signer.getAddress();\n\n      const contract = new ethers.Contract(\n        BUDDHA_NFT_ADDRESS,\n        BuddhaNFTArtifact.abi,\n        signer\n      );\n\n      const tx = await contract.mint(userAddress, metadataURL);\n      await tx.wait();\n\n      setStatus(\"✅ NFT Minted Successfully!\");\n    } catch (err) {\n      console.error(\"Mint failed:\", err);\n      setStatus(\"❌ Mint failed. See console for details.\");\n    }\n  };\n\n  return (\n    <div className=\"max-w-lg mx-auto\">\n      <h2 className=\"text-2xl font-bold mb-4 text-center\">Mint Your Buddha Amulet</h2>\n      \n      <input\n        className=\"w-full p-2 mb-2 border rounded\"\n        placeholder=\"Amulet Name\"\n        name=\"name\"\n        onChange={handleChange}\n      />\n      <textarea\n        className=\"w-full p-2 mb-2 border rounded\"\n        placeholder=\"Description\"\n        name=\"description\"\n        onChange={handleChange}\n      />\n      <input\n        className=\"w-full p-2 mb-2 border rounded\"\n        placeholder=\"Year\"\n        name=\"year\"\n        onChange={handleChange}\n      />\n      <select\n        className=\"w-full p-2 mb-2 border rounded\"\n        name=\"frame\"\n        onChange={handleChange}\n        value={form.frame}\n      >\n        <option>Gold Frame</option>\n        <option>Silver Frame</option>\n        <option>Plastic Frame</option>\n      </select>\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        multiple\n        onChange={handleImageChange}\n        className=\"mb-4\"\n      />\n\n      <button\n        onClick={handleMint}\n        className=\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700\"\n      >\n        Mint NFT\n      </button>\n\n      {status && <p className=\"text-center mt-2\">{status}</p>}\n    </div>\n  );\n};\n\nexport default Mint;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}